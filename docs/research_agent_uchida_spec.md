# リサーチエージェント - たけるん式対応仕様書

## 🎯 コンセプト

**「たけるん式リサーチメソッドをAIで自動化し、売れるコンセプトを導き出すリサーチエージェント」**

---

## 📚 たけるん式メソッドの核心

### 商品コンセプトの2つの問い
1. **誰のどんな悩みを解決する商品なのか？**
2. **その悩みはお金を払ってでも解決したいものなのか？**

### コンセプト作成の3要素
1. **ベネフィット** - 悩み解決後の理想の未来
2. **悩み** - 今まさに抱えている痛み
3. **イメージできる表現** - 具体的でパッとわかる言葉

### リサーチ対象
- **市場**: 市場規模（検索ボリューム）、競合
- **顧客**: 悩み、ベネフィット、お金を払う意欲

---

## 🔬 リサーチエージェント機能要件

### 1. マルチソースリサーチ（たけるん式準拠）

| リサーチ媒体 | 取得内容 | 優先度 |
|-------------|---------|--------|
| **Amazon書籍** | 売れてる書籍タイトル、切り口、キーワード | 🔴 高 |
| **YouTube** | 伸びてる動画タイトル、平均比での伸び率分析 | 🔴 高 |
| **Google検索** | SEO上位の競合LP、セールスレター | 🔴 高 |
| **Infotop** | 売れてる商品ランキング、価格帯、コンセプト | 🔴 高 |
| **Yahoo知恵袋** | 生の悩み、深刻度、言葉遣い | 🟡 中 |
| **5ch/ガールズちゃんねる** | リアルな声、本音 | 🟡 中 |
| **競合セールスレター** | コンセプト、構成、キーワード | 🔴 最高 |

### 2. コンセプト発見フロー

```
┌─────────────────────────────────────────────────────────────────┐
│ STEP 1: ターゲット設定                                          │
│ - ジャンル選択                                                  │
│ - 想定ターゲット入力（年齢、性別、状況）                          │
│ - 参考競合URL（あれば）                                          │
└───────────────────────────┬─────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 2: 市場規模チェック（自動）                                 │
│ - 関連キーワードの検索ボリューム取得                              │
│ - 2,000〜20,000の範囲かチェック                                 │
│ - 市場が小さすぎる/大きすぎる場合はアラート                       │
└───────────────────────────┬─────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 3: 競合発見（自動）                                         │
│ - Google検索で上位表示されている競合を特定                        │
│ - 競合のセールスレター・LPをスクレイピング                        │
│ - 競合のコンセプト・構成・キーワードを抽出                        │
│ 🌟 たけるん式ポイント: 競合のセールスレターはリサーチの集大成          │
└───────────────────────────┬─────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 4: 悩み収集（並列実行）                                     │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐                │
│ │ Yahoo知恵袋  │ │ Amazon      │ │ YouTube    │                │
│ │ 悩み投稿    │ │ 書籍レビュー │ │ コメント   │                │
│ └─────────────┘ └─────────────┘ └─────────────┘                │
│ → 悩みを50個以上リストアップ                                     │
│ → 深さ×緊急性でマトリックス分類                                  │
└───────────────────────────┬─────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 5: キーワード収集（並列実行）                               │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐                │
│ │ Amazon書籍  │ │ YouTube    │ │ Infotop    │                │
│ │ タイトル    │ │ 動画タイトル│ │ 商品名     │                │
│ └─────────────┘ └─────────────┘ └─────────────┘                │
│ → 刺さるキーワード・切り口を大量収集                              │
│ → 再生数/売上比較で効果検証                                      │
└───────────────────────────┬─────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 6: ベネフィット生成（AI分析）                               │
│ - 優先度の高い悩み → 解決後の未来を言語化                         │
│ - 具体的でイメージできる表現に変換                                │
│ - 21文字以内のコンセプト候補を生成                               │
└───────────────────────────┬─────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────────┐
│ STEP 7: コンセプト候補提案                                       │
│ - 競合コンセプト + 収集キーワード = 新コンセプト                  │
│ - 5〜10案を提示                                                  │
│ - 各案のスコア（ベネフィット度、具体性、インパクト）             │
└─────────────────────────────────────────────────────────────────┘
```

### 3. 出力形式

#### A. 悩みマトリックス
```
                    緊急性：高
                       ↑
          ┌───────────┼───────────┐
          │  重要だが  │  最優先   │
          │  後回し   │  ターゲット│
悩みの深さ├───────────┼───────────┤
    低←   │  無視     │  検討     │   →高
          │          │          │
          └───────────┼───────────┘
                       ↓
                    緊急性：低
```

#### B. コンセプト候補カード
```yaml
コンセプト案1:
  キャッチコピー: "脈なしだろうが関係ない。好きな女性を狙った通り落として付き合う"
  ターゲットの悩み: 女性のくどき方がわからない、脈なしで諦めている
  ベネフィット: 好きな女性と付き合える
  参考競合: 恋愛系商材A
  使用キーワード: [脈なし, 狙った通り, 落とす]
  スコア:
    ベネフィット明確度: 92
    具体性: 85
    インパクト: 88
    総合: 88
```

#### C. キーワードバンク
```yaml
収集キーワード:
  書籍タイトルから:
    - "5日間で一生太らない体を作る"
    - "お医者さんが考えた痩せる朝ごはん"
    - "永久保存版"
  
  YouTube動画から:
    - "女性を依存させる"
    - "脈なしを脈ありに変える"
    - "モテる男がやっている○○"
  
  競合LPから:
    - "動物学的に実証された"
    - "本能で感じさせる"
    - "この81文で何でも話せる"
```

---

## 🏗️ 技術実装

### API構成

```
/api/research
├── /market-size          # 市場規模チェック（キーワードプランナー/Ubersuggest連携）
├── /competitors          # 競合発見（Google検索 + スクレイピング）
├── /pain-points          # 悩み収集（知恵袋、レビュー、コメント）
├── /keywords             # キーワード収集（Amazon、YouTube、Infotop）
├── /concept-generator    # コンセプト生成（AI分析）
└── /full-research        # フルリサーチ（上記全て統合）
```

### データモデル

```typescript
interface TakerunResearchResult {
  // 市場分析
  market: {
    keywords: { term: string; volume: number; competition: string }[];
    isViable: boolean; // 2,000〜20,000の範囲か
    recommendation: string;
  };
  
  // 競合分析
  competitors: {
    name: string;
    url: string;
    concept: string;
    salesLetterSections: string[];
    keywords: string[];
    estimatedRevenue?: string;
  }[];
  
  // 悩みマトリックス
  painPoints: {
    content: string;
    source: string;
    depth: 1 | 2 | 3 | 4 | 5;      // 深さ
    urgency: 1 | 2 | 3 | 4 | 5;    // 緊急性
    quadrant: 'priority' | 'important' | 'consider' | 'ignore';
    originalText: string;  // 生の声
  }[];
  
  // キーワードバンク
  keywords: {
    word: string;
    source: 'amazon' | 'youtube' | 'infotop' | 'competitor';
    context: string;
    performanceScore?: number;  // 再生数比率等
  }[];
  
  // ベネフィット
  benefits: {
    painPoint: string;
    benefit: string;
    concreteExpression: string;  // 具体的表現
  }[];
  
  // コンセプト候補
  conceptCandidates: {
    headline: string;  // 21文字以内理想
    targetPain: string;
    benefit: string;
    usedKeywords: string[];
    referenceCompetitor?: string;
    scores: {
      benefitClarity: number;
      specificity: number;
      impact: number;
      overall: number;
    };
  }[];
}
```

---

## 📋 ClaudeCode タスク整理

### Phase 1: 基盤API（優先度: 🔴 最高）

| タスク | 内容 | 工数 |
|--------|------|------|
| 1.1 | `/api/research/competitors` - Google検索で競合発見 | 3h |
| 1.2 | 競合セールスレタースクレイピング（Firecrawl使用） | 4h |
| 1.3 | セールスレターからコンセプト・キーワード抽出（Gemini） | 3h |

### Phase 2: 悩み収集（優先度: 🔴 高）

| タスク | 内容 | 工数 |
|--------|------|------|
| 2.1 | `/api/research/pain-points` - Yahoo知恵袋スクレイピング | 4h |
| 2.2 | 悩みの深さ×緊急性スコアリング（Gemini分析） | 2h |
| 2.3 | 悩みマトリックス可視化コンポーネント | 2h |

### Phase 3: キーワード収集（優先度: 🔴 高）

| タスク | 内容 | 工数 |
|--------|------|------|
| 3.1 | `/api/research/keywords/amazon` - Amazon書籍タイトル収集 | 3h |
| 3.2 | `/api/research/keywords/youtube` - YouTube動画タイトル収集 | 3h |
| 3.3 | `/api/research/keywords/infotop` - Infotopランキング収集 | 2h |
| 3.4 | キーワードバンクUI | 2h |

### Phase 4: コンセプト生成（優先度: 🔴 最高）

| タスク | 内容 | 工数 |
|--------|------|------|
| 4.1 | `/api/research/concept-generator` - AI分析 | 4h |
| 4.2 | 競合コンセプト + 収集キーワード → 新コンセプト生成 | 3h |
| 4.3 | コンセプト候補カードUI | 2h |
| 4.4 | スコアリングロジック実装 | 2h |

### Phase 5: 統合UI（優先度: 🟡 中）

| タスク | 内容 | 工数 |
|--------|------|------|
| 5.1 | フルリサーチフロー（ステップウィザード形式） | 4h |
| 5.2 | 結果エクスポート（PDF/Markdown） | 2h |
| 5.3 | 履歴保存・比較機能 | 3h |

---

## 🚀 ClaudeCode への指示書

### 指示書 v1.0

```markdown
# LP Builder Pro - たけるん式リサーチエージェント実装

## 概要
たけるん式コンセプト作成メソッドをベースにした、AIリサーチエージェントを実装してください。
ターゲットの悩みを収集し、競合を分析し、売れるコンセプトを自動提案するシステムです。

## 実装優先順位

### 🔴 最優先: 競合分析機能
1. Google検索で競合LPを発見する機能
   - ターゲットが検索しそうなキーワードで検索
   - 上位10件のURLを取得
   - 広告出稿者も含める（広告=うまくいっている証拠）

2. 競合セールスレターのスクレイピング
   - Firecrawl APIを使用
   - セールスレター全文をマークダウン化
   - ヘッドコピー（コンセプト）を抽出

3. コンセプト・キーワード抽出
   - Gemini APIで分析
   - コンセプト、ベネフィット、悩み訴求を分類
   - 使われているパワーワードを抽出

### 🔴 高優先: キーワード収集
1. Amazon書籍検索
   - ジャンルキーワードで書籍検索
   - タイトル、サブタイトル、口コミ数を取得
   - 「売れてそうな」タイトルの切り口を抽出

2. YouTube動画分析
   - ジャンルキーワードで動画検索
   - タイトル、再生数、チャンネル平均再生数を取得
   - 平均より伸びている動画のタイトルを抽出

### 🔴 高優先: 悩み収集
1. Yahoo知恵袋スクレイピング
   - ジャンル関連キーワードで検索
   - 悩み投稿の本文を収集
   - 「つらい」「どうすれば」等の深刻度キーワードで分類

### 🟡 中優先: コンセプト生成
1. たけるん式6ステップに基づくコンセプト生成
   - 収集した悩みをマトリックス分類
   - 優先度の高い悩み → ベネフィット変換
   - 競合コンセプト + 収集キーワード → 新コンセプト

## 技術スタック
- Next.js 14 (App Router)
- TypeScript
- Firecrawl API（スクレイピング）
- Gemini Interactions API（Deep Research + 分析）
- Zustand（状態管理）
- shadcn/ui（UI）

## ファイル構成
```
src/
├── app/api/research/
│   ├── competitors/route.ts      # 競合発見
│   ├── pain-points/route.ts      # 悩み収集
│   ├── keywords/
│   │   ├── amazon/route.ts
│   │   ├── youtube/route.ts
│   │   └── infotop/route.ts
│   ├── concept-generator/route.ts # コンセプト生成
│   └── full-research/route.ts     # 統合リサーチ
│
├── lib/research/
│   ├── types.ts                   # 型定義（上記TakerunResearchResult）
│   ├── orchestrator.ts            # 並列実行制御
│   ├── scrapers/
│   │   ├── google.ts
│   │   ├── amazon.ts
│   │   ├── youtube.ts
│   │   ├── yahoo-chiebukuro.ts
│   │   └── infotop.ts
│   └── analyzers/
│       ├── concept-extractor.ts   # コンセプト抽出
│       ├── pain-classifier.ts     # 悩み分類
│       └── keyword-ranker.ts      # キーワードランキング
│
└── components/research/
    ├── ResearchWizard.tsx         # ステップウィザード
    ├── CompetitorCard.tsx         # 競合表示
    ├── PainPointMatrix.tsx        # 悩みマトリックス
    ├── KeywordBank.tsx            # キーワードバンク
    └── ConceptCandidates.tsx      # コンセプト候補
```

## 重要な実装ポイント

### 1. 競合分析が最重要
たけるん式では「競合のセールスレターはリサーチの集大成」とされています。
競合のセールスレターを徹底的に分析し、そこからコンセプトを抽出することを最優先してください。

### 2. 「点」を大量に集める
キーワードや切り口は「数」が重要です。
少なくとも50個以上の悩み、30個以上のキーワードを収集するようにしてください。

### 3. 21文字以内のコンセプト
最終的なコンセプトは「3秒で理解できる」「21文字以内」が理想です。
長いコンセプトは短縮版も同時に提案してください。

### 4. ベネフィットは具体的に
「美肌になる」ではなく「娘と姉妹に間違えられるほどのキメ細かい肌」のように、
パッとイメージできる具体的な表現を生成してください。

## 既存ファイルとの整合性
- `src/lib/research/types.ts` に型定義を追加
- `src/lib/research/orchestrator.ts` を拡張
- `src/app/dev/research/page.tsx` のUIを更新
```

---

## 📅 実装スケジュール提案

| 週 | 内容 |
|----|------|
| Week 1 | Phase 1（競合分析） + Phase 3.3（Infotop）|
| Week 2 | Phase 3.1-3.2（Amazon/YouTube） + Phase 2（悩み収集）|
| Week 3 | Phase 4（コンセプト生成）|
| Week 4 | Phase 5（統合UI） + テスト |

---

**作成日**: 2025-12-15  
**バージョン**: 2.0（たけるん式対応）  
**ステータス**: 設計完了・ClaudeCode実装待ち
